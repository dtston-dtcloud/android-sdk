<!DOCTYPE html><html><head><title>SDK文档说明</title><meta charset='utf-8'><link href='https://dn-maxiang.qbox.me/res-min/themes/marxico.css' rel='stylesheet'><style></style></head><body><div id='preview-contents' class='note-content'>
                        
                    

<div><div class="toc"><div class="toc">
<ul>
<li><a href="#sdk文档说明">SDK文档说明</a><ul>
<li><a href="#sdk-demo">SDK Demo</a></li>
<li><a href="#开始">开始</a><ul>
<li><a href="#1-申请appid-和-appkey">1. 申请AppID 和 AppKey</a></li>
<li><a href="#2-准备环境">2. 准备环境</a></li>
<li><a href="#3-初始化dtcloudmanager">3. 初始化DtCloudManager</a></li>
<li><a href="#4-登录">4. 登录</a></li>
<li><a href="#5-注册设备回调接口">5. 注册设备回调接口</a></li>
</ul>
</li>
<li><a href="#用户接口usermanager">用户接口：UserManager</a><ul>
<li><a href="#1-用户登录">1. 用户登录</a></li>
<li><a href="#2-用户注册">2. 用户注册</a></li>
<li><a href="#3-获取注册验证码">3. 获取注册验证码</a></li>
<li><a href="#4-获取重置密码验证码">4. 获取重置密码验证码</a></li>
<li><a href="#5-重置密码">5. 重置密码</a></li>
<li><a href="#6-注销用户">6. 注销用户</a></li>
</ul>
</li>
<li><a href="#设备接口devicemanager">设备接口：DeviceManager</a><ul>
<li><a href="#1-注册设备消息回调接口">1. 注册设备消息回调接口</a></li>
<li><a href="#2-注册设备状态回调接口">2. 注册设备状态回调接口</a></li>
<li><a href="#3解除设备绑定">3、解除设备绑定</a></li>
<li><a href="#4获取绑定设备">4、获取绑定设备</a></li>
<li><a href="#5发送消息">5、发送消息</a></li>
<li><a href="#6开始设备配对网络">6、开始设备配对网络</a></li>
<li><a href="#7停止设备配对网络">7、停止设备配对网络</a></li>
<li><a href="#8获取设备状态">8、获取设备状态</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
</div>



<h1 id="sdk文档说明">SDK文档说明</h1>



<h2 id="sdk-demo">SDK Demo</h2>

<p>点击下载应用 <a href="http://assist.dtston.com/sdk/android/sdk_demo_1.3.2.apk" target="_blank">SDK Demo</a>，并用手机安装； <br>
对应的工程源文件请点击下载 <a href="http://assist.dtston.com/sdk/android/demo_project_1.3.2.zip" target="_blank">Demo Project</a>。</p>



<h2 id="开始">开始</h2>



<h3 id="1-申请appid-和-appkey">1. 申请AppID 和 AppKey</h3>

<p>登录应用申请网站，填写应用信息并提交审核，审核通过后，获取到AppID 和 AppKey。</p>



<h3 id="2-准备环境">2. 准备环境</h3>

<p>（1）点击下载 <a href="http://assist.dtston.com/sdk/android/dtcloud-1.3.2.jar" target="_blank">dtcloud-1.3.2.jar</a> 包，并将 dtcloud-1.3.2.jar 导入工程； <br>
（2）在工程的AndroidManifest.xml里面填写应用的AppID 和 AppKey；</p>



<pre class="prettyprint hljs-dark"><code class="language-java hljs"><div class="hljs-line">&lt;application android:label=<span class="hljs-string">"@string/app_name"</span>
</div><div class="hljs-line">        android:icon=<span class="hljs-string">"@drawable/ic_launcher"</span>
</div><div class="hljs-line">        android:theme=<span class="hljs-string">"@style/AppTheme"</span>&gt;
</div><div class="hljs-line">
</div><div class="hljs-line">        &lt;!-- 【必须】 请修改为APP的AccessId --&gt;
</div><div class="hljs-line">        &lt;meta-data
</div><div class="hljs-line">            android:name=<span class="hljs-string">"DTCLOUD_APPID"</span>
</div><div class="hljs-line">            android:value=<span class="hljs-string">"50024"</span> /&gt;
</div><div class="hljs-line">        &lt;!-- 【必须】 请修改为APP的AccessKey --&gt;
</div><div class="hljs-line">        &lt;meta-data
</div><div class="hljs-line">            android:name=<span class="hljs-string">"DTCLOUD_APPKEY"</span>
</div><div class="hljs-line">            android:value=<span class="hljs-string">"c909f4c64b81ac5a3f3587a590f39ce1"</span> /&gt;
</div><div class="hljs-line">
</div><div class="hljs-line">        ......
</div><div class="hljs-line">        ......
</div><div class="hljs-line">
</div><div class="hljs-line"> &lt;/application&gt;
</div></code></pre>



<h3 id="3-初始化dtcloudmanager">3. 初始化DtCloudManager</h3>

<p>调用DtCloudManager的init()方法进行初始化</p>



<pre class="prettyprint hljs-dark"><code class="language-java hljs"><div class="hljs-line">DtCloudManager.init(<span class="hljs-keyword">this</span>, <span class="hljs-keyword">new</span> DTIOperateCallback() {
</div><div class="hljs-line">            <span class="hljs-meta">@Override</span>
</div><div class="hljs-line">            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(Object var1, <span class="hljs-keyword">int</span> var2)</span> </span>{
</div><div class="hljs-line">                <span class="hljs-comment">//初始化成功</span>
</div><div class="hljs-line">            }
</div><div class="hljs-line">
</div><div class="hljs-line">            <span class="hljs-meta">@Override</span>
</div><div class="hljs-line">            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFail</span><span class="hljs-params">(Object errmsg, <span class="hljs-keyword">int</span> errCode, String var3)</span> </span>{
</div><div class="hljs-line">                <span class="hljs-comment">//初始化失败</span>
</div><div class="hljs-line">            }
</div><div class="hljs-line">        });
</div></code></pre>

<p>错误信息(errCode)包含以下： <br>
40001：应用校验未通过，确保AppID 和 AppKey是通过应用申请获取； <br>
30000：应用校验失败，网络异常；</p>



<h3 id="4-登录">4. 登录</h3>



<pre class="prettyprint hljs-dark"><code class="language-java hljs"><div class="hljs-line">UserManager.loginUser(userName, password, <span class="hljs-keyword">new</span> DTIOperateCallback() {
</div><div class="hljs-line">            <span class="hljs-meta">@Override</span>
</div><div class="hljs-line">            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(Object var1, <span class="hljs-keyword">int</span> var2)</span> </span>{
</div><div class="hljs-line">                JSONObject response = (JSONObject) var1;
</div><div class="hljs-line">            }
</div><div class="hljs-line">
</div><div class="hljs-line">            <span class="hljs-meta">@Override</span>
</div><div class="hljs-line">            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFail</span><span class="hljs-params">(Object error, <span class="hljs-keyword">int</span> var2, String var3)</span> </span>{
</div><div class="hljs-line">
</div><div class="hljs-line">            }
</div><div class="hljs-line">        });
</div></code></pre>

<p>onSuccess()方法返回参数var1是一个JSON数据，包含下面信息 ： <br>
errcode：返回码 ，0是成功，其余都是错误； <br>
errmsg：错误信息；</p>



<h3 id="5-注册设备回调接口">5. 注册设备回调接口</h3>

<p>调用DeviceManager的registerDeviceMessageCallback()方法注册 <strong>设备消息</strong> 回调； <br>
同时，在不需要的时候使用unregisterDeviceMessageCallback方法 <strong>注销回调</strong>；</p>



<pre class="prettyprint hljs-dark"><code class="language-java hljs"><div class="hljs-line">DeviceManager.registerDeviceMessageCallback(<span class="hljs-keyword">new</span> DTIDeviceMessageCallback() {
</div><div class="hljs-line">            <span class="hljs-meta">@Override</span>
</div><div class="hljs-line">            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">onMessageReceive</span><span class="hljs-params">(String mac, <span class="hljs-keyword">byte</span>[] data)</span> </span>{
</div><div class="hljs-line">                <span class="hljs-comment">//设备消息</span>
</div><div class="hljs-line">            }
</div><div class="hljs-line">        });
</div></code></pre>

<p>调用DeviceManager的registerDeviceStateCallback()方法注册 <strong>设备状态</strong> 回调； <br>
同时，在不需要的时候使用unregisterDeviceStateCallback()方法 <strong>注销回调</strong>；</p>



<pre class="prettyprint hljs-dark"><code class="language-java hljs"><div class="hljs-line">DeviceManager.registerDeviceStateCallback(<span class="hljs-keyword">new</span> DTIDeviceStateCallback() {
</div><div class="hljs-line">            <span class="hljs-meta">@Override</span>
</div><div class="hljs-line">            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">onDeviceOnlineNotice</span><span class="hljs-params">(DeviceState deviceState)</span> </span>{
</div><div class="hljs-line">                <span class="hljs-comment">//设备在线</span>
</div><div class="hljs-line">            }
</div><div class="hljs-line">            <span class="hljs-meta">@Override</span>
</div><div class="hljs-line">            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">onDeviceOfflineNotice</span><span class="hljs-params">(DeviceState deviceState)</span> </span>{
</div><div class="hljs-line">                <span class="hljs-comment">//设备离线</span>
</div><div class="hljs-line">            }
</div><div class="hljs-line">        });
</div></code></pre>



<h2 id="用户接口usermanager">用户接口：UserManager</h2>



<h3 id="1-用户登录">1. 用户登录</h3>



<pre class="prettyprint hljs-dark"><code class="language-java hljs"><div class="hljs-line">UserManager.loginUser(userName, password, <span class="hljs-keyword">new</span> DTIOperateCallback() {
</div><div class="hljs-line">            <span class="hljs-meta">@Override</span>
</div><div class="hljs-line">            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(Object var1, <span class="hljs-keyword">int</span> var2)</span> </span>{
</div><div class="hljs-line">                JSONObject response = (JSONObject) var1;
</div><div class="hljs-line">            }
</div><div class="hljs-line">
</div><div class="hljs-line">            <span class="hljs-meta">@Override</span>
</div><div class="hljs-line">            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFail</span><span class="hljs-params">(Object error, <span class="hljs-keyword">int</span> var2, String var3)</span> </span>{
</div><div class="hljs-line">
</div><div class="hljs-line">            }
</div><div class="hljs-line">        });
</div></code></pre>

<p>onSuccess()方法返回参数var1是一个JSON数据，包含下面信息 ： <br>
errcode：返回码 ，0是成功，其余都是错误； <br>
errmsg：错误信息；</p>



<h3 id="2-用户注册">2. 用户注册</h3>



<pre class="prettyprint hljs-dark"><code class="language-java hljs"><div class="hljs-line">UserManager.registerUser(userName, password, vcode, <span class="hljs-keyword">new</span> DTIOperateCallback() {
</div><div class="hljs-line">            <span class="hljs-meta">@Override</span>
</div><div class="hljs-line">            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(Object var1, <span class="hljs-keyword">int</span> var2)</span> </span>{
</div><div class="hljs-line">                JSONObject response = (JSONObject) var1;
</div><div class="hljs-line">            }
</div><div class="hljs-line">
</div><div class="hljs-line">            <span class="hljs-meta">@Override</span>
</div><div class="hljs-line">            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFail</span><span class="hljs-params">(Object error, <span class="hljs-keyword">int</span> var2, String var3)</span> </span>{
</div><div class="hljs-line">
</div><div class="hljs-line">            }
</div><div class="hljs-line">        });
</div></code></pre>

<p>onSuccess()方法返回参数var1是一个JSON数据，包含下面信息 ： <br>
errcode：返回码 ，0是成功，其余都是错误； <br>
errmsg：错误信息；</p>



<h3 id="3-获取注册验证码">3. 获取注册验证码</h3>



<pre class="prettyprint hljs-dark"><code class="language-java hljs"><div class="hljs-line">UserManager.getRegisterVcode(userName, <span class="hljs-keyword">new</span> DTIOperateCallback() {
</div><div class="hljs-line">            <span class="hljs-meta">@Override</span>
</div><div class="hljs-line">            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(Object var1, <span class="hljs-keyword">int</span> var2)</span> </span>{
</div><div class="hljs-line">                JSONObject response = (JSONObject) var1;
</div><div class="hljs-line">            }
</div><div class="hljs-line">
</div><div class="hljs-line">            <span class="hljs-meta">@Override</span>
</div><div class="hljs-line">            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFail</span><span class="hljs-params">(Object error, <span class="hljs-keyword">int</span> var2, String var3)</span> </span>{
</div><div class="hljs-line">
</div><div class="hljs-line">            }
</div><div class="hljs-line">        });
</div></code></pre>

<p>onSuccess()方法返回参数var1是一个JSON数据，包含下面信息 ： <br>
errcode：返回码 ，0是成功，其余都是错误； <br>
errmsg：错误信息；</p>



<h3 id="4-获取重置密码验证码">4. 获取重置密码验证码</h3>



<pre class="prettyprint hljs-dark"><code class="language-java hljs"><div class="hljs-line">UserManager.getResetPasswordVcode(userName, <span class="hljs-keyword">new</span> DTIOperateCallback() {
</div><div class="hljs-line">            <span class="hljs-meta">@Override</span>
</div><div class="hljs-line">            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(Object var1, <span class="hljs-keyword">int</span> var2)</span> </span>{
</div><div class="hljs-line">                JSONObject response = (JSONObject) var1;
</div><div class="hljs-line">            }
</div><div class="hljs-line">
</div><div class="hljs-line">            <span class="hljs-meta">@Override</span>
</div><div class="hljs-line">            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFail</span><span class="hljs-params">(Object error, <span class="hljs-keyword">int</span> var2, String var3)</span> </span>{
</div><div class="hljs-line">
</div><div class="hljs-line">            }
</div><div class="hljs-line">        });
</div></code></pre>

<p>onSuccess()方法返回参数var1是一个JSON数据，包含下面信息 ： <br>
errcode：返回码 ，0是成功，其余都是错误； <br>
errmsg：错误信息；</p>



<h3 id="5-重置密码">5. 重置密码</h3>



<pre class="prettyprint hljs-dark"><code class="language-java hljs"><div class="hljs-line">UserManager.resetPassword(userName, password, vcode, <span class="hljs-keyword">new</span> DTIOperateCallback() {
</div><div class="hljs-line">            <span class="hljs-meta">@Override</span>
</div><div class="hljs-line">            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(Object var1, <span class="hljs-keyword">int</span> var2)</span> </span>{
</div><div class="hljs-line">                JSONObject response = (JSONObject) var1;
</div><div class="hljs-line">            }
</div><div class="hljs-line">
</div><div class="hljs-line">            <span class="hljs-meta">@Override</span>
</div><div class="hljs-line">            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFail</span><span class="hljs-params">(Object error, <span class="hljs-keyword">int</span> var2, String var3)</span> </span>{
</div><div class="hljs-line">
</div><div class="hljs-line">            }
</div><div class="hljs-line">        });
</div></code></pre>

<p>onSuccess()方法返回参数var1是一个JSON数据，包含下面信息 ： <br>
errcode：返回码 ，0是成功，其余都是错误； <br>
errmsg：错误信息；</p>



<h3 id="6-注销用户">6. 注销用户</h3>



<pre class="prettyprint hljs-dark"><code class="language-java hljs"><div class="hljs-line">UserManager.logoutUser();
</div></code></pre>



<h2 id="设备接口devicemanager">设备接口：DeviceManager</h2>



<h3 id="1-注册设备消息回调接口">1. 注册设备消息回调接口</h3>



<pre class="prettyprint hljs-dark"><code class="language-java hljs"><div class="hljs-line">DeviceManager.registerDeviceMessageCallback(<span class="hljs-keyword">new</span> DTIDeviceMessageCallback() {
</div><div class="hljs-line">            <span class="hljs-meta">@Override</span>
</div><div class="hljs-line">            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">onMessageReceive</span><span class="hljs-params">(String mac, <span class="hljs-keyword">byte</span>[] data)</span> </span>{
</div><div class="hljs-line">                <span class="hljs-comment">//设备消息</span>
</div><div class="hljs-line">            }
</div><div class="hljs-line">        });
</div></code></pre>



<h3 id="2-注册设备状态回调接口">2. 注册设备状态回调接口</h3>



<pre class="prettyprint hljs-dark"><code class="language-java hljs"><div class="hljs-line">DeviceManager.registerDeviceStateCallback(<span class="hljs-keyword">new</span> DTIDeviceStateCallback() {
</div><div class="hljs-line">            <span class="hljs-meta">@Override</span>
</div><div class="hljs-line">            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">onDeviceOnlineNotice</span><span class="hljs-params">(DeviceState deviceState)</span> </span>{
</div><div class="hljs-line">                <span class="hljs-comment">//设备在线</span>
</div><div class="hljs-line">            }
</div><div class="hljs-line">            <span class="hljs-meta">@Override</span>
</div><div class="hljs-line">            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">onDeviceOfflineNotice</span><span class="hljs-params">(DeviceState deviceState)</span> </span>{
</div><div class="hljs-line">                <span class="hljs-comment">//设备离线</span>
</div><div class="hljs-line">            }
</div><div class="hljs-line">        });
</div></code></pre>



<h3 id="3解除设备绑定">3、解除设备绑定</h3>



<pre class="prettyprint hljs-dark"><code class="language-java hljs"><div class="hljs-line">DeviceManager.unbindDevice(String deviceMac，String dataId，<span class="hljs-keyword">new</span> DTIOperateCallback() {
</div><div class="hljs-line">            <span class="hljs-meta">@Override</span>
</div><div class="hljs-line">            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(Object var1, <span class="hljs-keyword">int</span> var2)</span> </span>{
</div><div class="hljs-line">                JSONObject response = (JSONObject) var1;
</div><div class="hljs-line">            }
</div><div class="hljs-line">
</div><div class="hljs-line">            <span class="hljs-meta">@Override</span>
</div><div class="hljs-line">            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFail</span><span class="hljs-params">(Object error, <span class="hljs-keyword">int</span> var2, String var3)</span> </span>{
</div><div class="hljs-line">
</div><div class="hljs-line">            }
</div><div class="hljs-line">        });
</div></code></pre>

<p><strong>deviceMac</strong>：设备MAC地址 <br>
<strong>dataId</strong>：设备数据ID； <br>
<strong>onSuccess()</strong>方法返回参数var1是一个JSON数据，包含下面信息 ： <br>
<strong>errcode</strong>：返回码 ，0是成功，400011是已解绑该设备，其余都是错误； <br>
<strong>errmsg</strong>：错误信息；</p>



<h3 id="4获取绑定设备">4、获取绑定设备</h3>



<pre class="prettyprint hljs-dark"><code class="language-java hljs"><div class="hljs-line">DeviceManager.getBindDevices(<span class="hljs-keyword">new</span> DTIOperateCallback() {
</div><div class="hljs-line">            <span class="hljs-meta">@Override</span>
</div><div class="hljs-line">            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(Object var1, <span class="hljs-keyword">int</span> var2)</span> </span>{
</div><div class="hljs-line">                JSONObject response = (JSONObject) var1;
</div><div class="hljs-line">            }
</div><div class="hljs-line">
</div><div class="hljs-line">            <span class="hljs-meta">@Override</span>
</div><div class="hljs-line">            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFail</span><span class="hljs-params">(Object error, <span class="hljs-keyword">int</span> var2, String var3)</span> </span>{
</div><div class="hljs-line">
</div><div class="hljs-line">            }
</div><div class="hljs-line">        });
</div></code></pre>

<p><strong>onSuccess()</strong>方法返回参数var1是一个JSON数据，包含下面信息 ： <br>
<strong>errcode</strong>：返回码 ，0是成功，400011是没有绑定设备数据，其余都是错误； <br>
<strong>errmsg</strong>：错误信息； <br>
<strong>data</strong>：绑定设备数据，是一个JSON数组JSONArray，包含 <br>
id：设备数据ID； <br>
mac：设备MAC； <br>
name：设备名称； <br>
type：设备类型；</p>



<h3 id="5发送消息">5、发送消息</h3>



<pre class="prettyprint hljs-dark"><code class="language-java hljs"><div class="hljs-line">DeviceManager.sendMessage(String deviceMac, <span class="hljs-keyword">byte</span>[] msg, <span class="hljs-keyword">new</span> DTIOperateCallback() {
</div><div class="hljs-line">            <span class="hljs-meta">@Override</span>
</div><div class="hljs-line">            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(Object var1, <span class="hljs-keyword">int</span> var2)</span> </span>{
</div><div class="hljs-line">                <span class="hljs-comment">//发送成功</span>
</div><div class="hljs-line">            }
</div><div class="hljs-line">
</div><div class="hljs-line">            <span class="hljs-meta">@Override</span>
</div><div class="hljs-line">            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onFail</span><span class="hljs-params">(Object error, <span class="hljs-keyword">int</span> var2, String var3)</span> </span>{
</div><div class="hljs-line">                <span class="hljs-comment">//发送失败</span>
</div><div class="hljs-line">            }
</div><div class="hljs-line">        });
</div></code></pre>

<p><strong>deviceMac</strong>：设备MAC； <br>
<strong>msg</strong>：设备发送数据；</p>



<h3 id="6开始设备配对网络">6、开始设备配对网络</h3>



<pre class="prettyprint hljs-dark"><code class="language-java hljs"><div class="hljs-line">DeviceManager.startDeviceMatchingNetwork(Context context, <span class="hljs-keyword">int</span> moduleType, <span class="hljs-keyword">int</span> deviveType, 
</div><div class="hljs-line">    String deviveName, String ssid, String password, <span class="hljs-keyword">new</span> DTIDeviceConnectCallback() {
</div><div class="hljs-line">
</div><div class="hljs-line">            <span class="hljs-meta">@Override</span>
</div><div class="hljs-line">            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSuccess</span><span class="hljs-params">(DTConnectedDevice connectedDevice)</span> </span>{
</div><div class="hljs-line">                <span class="hljs-comment">//入网成功，设备信息 DTConnectedDevice </span>
</div><div class="hljs-line">            }
</div><div class="hljs-line">
</div><div class="hljs-line">            <span class="hljs-meta">@Override</span>
</div><div class="hljs-line">            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">onFail</span><span class="hljs-params">(<span class="hljs-keyword">int</span> errcode, String errmsg {
</span></span></div><div class="hljs-line">                //入网失败
</div><div class="hljs-line">                return <span class="hljs-keyword">false</span>;
</div><div class="hljs-line">            }
</div><div class="hljs-line">        });
</div></code></pre>

<p><strong>moduleType</strong>，wifi模块类型，参见： <br>
DeviceManager.WIFI_HF，      //汉枫模块 <br>
DeviceManager.WIFI_LX，      //乐鑫模块 <br>
DeviceManager.WIFI_QK，     //庆科模块 <br>
DeviceManager.WIFI_MWR，  //马威尔模块； <br>
<strong>deviveType</strong>，设备类型； <br>
<strong>deviveName</strong>；设备名称； <br>
<strong>ssid</strong>：路由器ssid； <br>
<strong>password</strong>：路由器密码； <br>
<strong>DTConnectedDevice</strong>：入网设备，包含设备MAC、设备类型、设备数据ID；</p>



<h3 id="7停止设备配对网络">7、停止设备配对网络</h3>



<pre class="prettyprint hljs-dark"><code class="language-java hljs"><div class="hljs-line">DeviceManager.stopDeviceMatchingNetwork();
</div></code></pre>

<p>配对网络结束后，需要调用这个方法去停止配网操作；</p>



<h3 id="8获取设备状态">8、获取设备状态</h3>



<pre class="prettyprint hljs-dark"><code class="language-java hljs"><div class="hljs-line">DTDeviceState deviceState = DeviceManager.getDevicesState(String mac);
</div></code></pre>

<p><strong>DTDeviceState</strong>，设备状态，其中 isOnline() 获取是否在线。</p></div></body></html>